# USBIP

## 1. 工程一览

按依赖排序
  - libdrv
    - usbip_stub
    - usbip_vhci
    - usbip_vhci_ude
  - usbip_common
    - attacher
    - usbip
    - usbipd



| 工程名 | 目录 | 工程说明 |
| -- | -- | -- |
| libdrv | /driver/lib/ | 基础工程。定义usbip协议，编写usbip结构体与系统usbd结构体之间的转换工具。 |
| usbip_stub | /driver/stub/ |  |
| usbip_vhci | /driver/vhci/ |  |
| usbip_vhci_ude | /driver/vhci_ude/ |  |
| usbip_common | /userspace/lib/ |  |
| attacher | /userspace/src/attacher |  |
| usbip | /userspace/src/usbip/ |  |
| usbipd | /userspace/src/usbipd/ |  |


## 2. 文件一览(按工程)

### 2.1 libdrv

| 文件名 | 文件说明 |
| -- | -- |
| dbgcode.c | debug 相关代码 |
| dbgcommon.c | debug 公共工具定义 |
| devconf.c | usb 接口描述符相关方法 |
| pdu.c | 工具类，对usbip_header结构体的部分数据进行大小端反转 |
| strutil.c | 字符串工具类。如获取字符串长度，格式化字符串。 |
| usb_util.c | usb工具类。获取usb设备的类型。 |
| usbd_helper.c | usbd工具类。进行usbd结构体和usbip结构体之间的转换。 |
| usbip_proto.h | usbip的通讯结构体定义。 |


### usbip

| 文件名 | 文件说明 |
| -- | -- |
| usbip.c | 主入口 |
| usbip_list.c | list 命令主入口 |
| usbip_list_local.c | list -l 执行入口 |


### lib

| 文件名 | 文件说明 |
| -- | -- |
| names.c | 解析 usb.ids 文件，把里面的数据读取到几个链表中。 |
